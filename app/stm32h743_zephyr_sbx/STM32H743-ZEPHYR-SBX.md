

Memory allocation considerations:

Variant 1 (Comap-style)
